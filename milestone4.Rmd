---
title: "Milestone 4"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(rjson)
library(tidyverse)
library(purrr)
library(data.table)
library(lubridate)

# taking json file to an r list of lists
list <- fromJSON(file = "lookout.json")[[1]]

# turning list of lists into a data frame, selecting out columns that aren't useful
# formating start_date column with lubridate for graphing
lookout_leaderboard <- rbindlist(list) %>% 
  select(-moving_time, -start_date_local) %>%
  mutate(start_date = ymd_hms(start_date))


```
10/11/19

Drake Deuel

```{r graph, echo = FALSE} 

lookout_leaderboard %>%
  ggplot(aes(x = rank, y = elapsed_time, alpha = 0.5, color = "orangered")) +
  labs(title = "Lookout Mountain",
       subtitle = "Strava KOM rank vs time",
       x = "KOM ranking",
       y = "time (seconds)") +
  geom_point(show.legend = FALSE)

```